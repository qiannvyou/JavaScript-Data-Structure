<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>03击鼓传花</title>
	</head>
	<body>
	</body>
	<script>
	    // 自定义队列
	    function Queue() {
	        var items = []
	
	        // 队列操作的方法
	        // enter queue方法
	        this.enqueue = function (element) {
	            items.push(element)
	        }
	
	        // delete queue方法
	        this.dequeue = function () {
	            return items.shift()
	        }
	
	        // 查看前端的元素
	        this.front = function () {
	            return items[0]
	        }
	
	        // 查看队列是否为空
	        this.isEmpty = function () {
	            return items.length == 0
	        }
	
	        // 查看队列中元素的个数
	        this.size = function () {
	            return items.length
	        }
	    }
	
	   
		// 算法实现思路
		//     实现一个模拟的击鼓传花游戏，要用到这一章开头实现的Queue类。我们会得到一
		// 份名单，把里面的名字全都加入队列。给定一个数字，然后迭代队列。从队列开头移
		// 除一项，再将其添加到队列末尾，模拟击鼓传花（如果你把花传给了旁边的人，你被
		// 淘汰的威胁立刻就解除了）。一旦传递次数达到给定的数字，拿着花的那个人就被淘汰了（从队
		// 列中移除——）。最后只剩下一个人的时候，这个人就是胜者
		
		// 实现击鼓传花的函数
	    function passGame(nameList, num) {
	        // 1.创建一个队列, 并且将所有的人放在队列中
	        // 1.1.创建队列
	        var queue = new Queue()
	
	        // 1.2.通过for循环, 将nameList中的人放在队列中
	        for (var i = 0; i < nameList.length; i++) {
	            queue.enqueue(nameList[i])
	        }
	
	        // 2.寻找最后剩下的人
	        while (queue.size() > 1) {
	            // 将前num-1中的人, 都从队列的前端取出放在队列的后端
	            for (var i = 0; i < num; i++) {
	                queue.enqueue(queue.dequeue())
	            }
	
	            // 将第num个人, 从队列中移除
	            queue.dequeue()
	        }
	
	        // 3.获取剩下的一个人
	        console.log(queue.size())
	        var endName = queue.dequeue()
	        console.log("最终留下来的人:" + endName)
	
	        // 4.获取该人在队列中的位置
	        return nameList.indexOf(endName)
	    }
	
	    // 验证结果
	    var names = ['John','Jack','Camila','Ingrid','Carl'];
	    var index = passGame(names, 11)
	    console.log("最终位置:" + index)
	
	
	
	</script>
	
</html>

